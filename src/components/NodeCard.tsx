import { useNavigate } from "react-router-dom";
import { fetchNode, fetchNodeLog } from "../api/manager";
import { PodProps } from "./PodCard";

export type NodeProps = {
  name: string;
  id: string;
  status: string;
  pod: Partial<PodProps>;
};

export default function Node({ name, id, status, pod }: NodeProps) {
  const navigate = useNavigate();
  return (
    <div className="flex card py-2 px-2 justify-around items-center hover:bg-blue-50">
      <svg
        className="h-10 w-9 m-2 justify-self-start"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
      >
        <rect
          width="28"
          height="28"
          x="1"
          y="1"
          stroke="#000"
          stroke-width="2"
          rx="5"
        />
        <circle cx="7" cy="7" r="2" fill="#000" />
        <circle cx="13" cy="7" r="2" fill="#000" />
      </svg>

      <span className="grow h-10 m-2 justify-self-stretch font-Inter flex items-center">
        <span className="p-3 text-xl font-semibold">{name}</span>
        <span className="p-3 text-sm font-regular">{id.slice(0, 12)}</span>
        <span className="p-3 text-lg font-regular">{status}</span>
      </span>

      <svg
        onClick={async () => {
          navigate("/node/log/" + id);
        }}
        className="h-10 w-40 m-2 justify-self-end"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
      >
        <rect width="146" height="38" fill="#476CFF" rx="7" />
        <path
          fill="#fff"
          d="M34.598 26V11.454h5.185c1.131 0 2.069.207 2.812.618.744.412 1.3.976 1.67 1.69.368.711.553 1.511.553 2.401 0 .895-.187 1.7-.56 2.415-.37.71-.929 1.274-1.677 1.69-.743.412-1.678.618-2.805.618H36.21v-1.86h3.367c.715 0 1.295-.123 1.74-.37a2.32 2.32 0 0 0 .98-1.022c.208-.431.312-.921.312-1.47 0-.55-.104-1.038-.312-1.464a2.24 2.24 0 0 0-.987-1.001c-.445-.242-1.032-.362-1.762-.362h-2.755V26h-2.195Zm12.623 0V15.09h2.052v1.734h.114a2.637 2.637 0 0 1 1.05-1.385 3.008 3.008 0 0 1 1.72-.511 9.045 9.045 0 0 1 .902.05v2.03a3.798 3.798 0 0 0-.455-.078 4.343 4.343 0 0 0-.653-.05c-.502
                 0-.95.107-1.343.32a2.375 2.375 0 0 0-1.264 2.138V26h-2.123Zm7.675 0V15.09h2.124V26h-2.124Zm1.073-12.592a1.35 1.35 0 0 1-.952-.37c-.26-.25-.39-.549-.39-.895 0-.35.13-.648.39-.894.265-.251.582-.377.952-.377s.684.126.944.377c.266.246.398.544.398.894 0 .346-.133.644-.398.895-.26.247-.575.37-.944.37ZM62 19.523V26h-2.123V15.09h2.038v1.776h.135a3.118 3.118 0 0 1 1.179-1.392c.54-.35 1.22-.525 2.038-.525.744 0 1.395.156 1.954.469.558.307.992.767 1.3 1.378.307.61.46 1.366.46 2.265V26h-2.123v-6.683c0-.791-.206-1.409-.618-1.854-.411-.45-.977-.675-1.697-.675-.493 0-.93.107-1.314.32-.379.213-.68.526-.902.938-.218.407-.327.9-.327
                 1.477Zm14.922-4.432v1.705h-5.959V15.09h5.96Zm-4.36-2.614h2.123v10.32c0 .412.062.722.185.93a.964.964 0 0 0 .475.42c.2.07.415.106.647.106.17 0 .32-.012.447-.036l.299-.056.383 1.754a3.571 3.571 0 0 1-.525.142c-.228.052-.512.08-.853.085-.558.01-1.08-.09-1.562-.298a2.68 2.68 0 0 1-1.172-.966c-.298-.436-.448-.983-.448-1.64v-10.76Zm14.126-1.023V26h-2.124V11.454h2.124ZM94.14 26.22c-1.023 0-1.915-.234-2.678-.703-.762-.469-1.354-1.125-1.775-1.967-.422-.843-.632-1.828-.632-2.955 0-1.131.21-2.121.632-2.969.421-.847 1.013-1.505 1.775-1.974.763-.469 1.655-.703 2.678-.703s1.915.234 2.677.703c.763.469 1.355 1.127 1.776 1.974.421.848.632
                 1.837.632 2.97 0 1.126-.21 2.11-.632 2.954-.421.842-1.013 1.498-1.776 1.967-.762.469-1.654.703-2.677.703Zm.007-1.782c.663 0 1.212-.176 1.648-.526.435-.35.757-.817.966-1.4.213-.582.32-1.223.32-1.924 0-.696-.107-1.335-.32-1.918-.209-.587-.53-1.058-.966-1.413-.436-.355-.985-.533-1.648-.533-.668 0-1.222.178-1.662.533-.436.355-.76.826-.973 1.413a5.654 5.654 0 0 0-.312 1.918c0 .7.104 1.342.312 1.925.213.582.537 1.049.973 1.399.44.35.994.526 1.662.526Zm12.022 5.88c-.866 0-1.612-.114-2.237-.34-.62-.228-1.127-.529-1.52-.903a3.783 3.783 0 0 1-.88-1.228l1.825-.753a4.4 4.4 0 0 0 .511.66c.218.237.512.438.881.604.374.166.855.248 1.442.248.805
                 0 1.47-.196 1.995-.589.526-.388.789-1.008.789-1.86V24.01h-.135c-.128.232-.313.49-.554.774-.237.285-.564.53-.98.74-.417.208-.959.312-1.627.312-.861 0-1.638-.202-2.329-.604-.687-.407-1.231-1.006-1.634-1.797-.397-.795-.596-1.773-.596-2.933s.196-2.154.589-2.983c.398-.829.942-1.463 1.634-1.903.691-.446 1.475-.668 2.351-.668.677 0 1.223.114 1.64.34.417.223.741.484.973.782.237.298.419.561.547.788h.156v-1.768h2.081v11.15c0 .938-.218 1.707-.653 2.309-.436.601-1.025 1.046-1.769 1.335-.738.289-1.572.433-2.5.433Zm-.021-6.243c.611 0 1.127-.142 1.548-.426.427-.289.748-.7.966-1.236.223-.54.334-1.186.334-1.939
                 0-.733-.109-1.38-.327-1.939-.217-.558-.537-.994-.958-1.306-.422-.317-.943-.476-1.563-.476-.639 0-1.172.166-1.598.497-.426.327-.748.772-.966 1.335-.213.564-.319 1.193-.319 1.89 0 .714.108 1.342.326 1.881.218.54.54.962.966 1.265.431.303.961.454 1.591.454Z"
        />
      </svg>
    </div>
  );
}
